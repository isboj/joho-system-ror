<%= form_for @post do |f| %>
<p>
    <%= f.text_field :title, placeholder: 'enter title' %>
    <% if @post.errors.messages[:title].any? %>
    <span class="error"><%= @post.errors.messages[:title][0] %></span>
    <% end %>
</p>
<p>
    <%= f.text_area :body, placeholder: 'enter body text' %>
　　文字数: <span id="char-length"></span>
    <% if @post.errors.messages[:body].any? %>
    <span class="error"><%= @post.errors.messages[:body][0] %></span>
    <% end %>
</p>

<p>
    <%= f.submit class: 'btn btn-sm btn-primary' %>
</p>
<% end %>

<div>
    <%= link_to t('.index'), posts_path, class: 'btn btn-sm btn-secondary' %> 
</div>

<script>
    $(function(){
        $('#post_body').bind('keyup', function(){
            var thisValueLength = $(this).val().length;
            $('#char-length').html(thisValueLength);
        });
    });
</script>